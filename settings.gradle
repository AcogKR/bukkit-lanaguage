rootProject.name = "bukkit-language"

def modules = [
        "core",
        "plugin"
]

def addModule(String name, String dir = "modules/${name}") {
    include(name)
    findProject(":${name}")?.with {
        projectDir = new File(rootProject.projectDir, dir)
        buildFileName = "${name}.gradle"
    }
}

for (String module : modules) {
    addModule(module)
}

rootProject.children.forEach {
    it.name = "${rootProject.name}-${it.name}"
}
